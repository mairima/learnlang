    {% extends "base.html" %}
    {% block title %}Tutor Dashboard{% endblock %}
    {% block content %}
    <div class="container mt-4">
    <h2 class="mb-3">Tutor Dashboard</h2>

    <div class="row g-3 mb-4">
        <div class="col-md-4">
        <div class="p-3 border rounded">
            <div class="text-muted">Active MAIN</div>
            <div class="fs-4">{{ stats.active_main }}</div>
        </div>
        </div>
        <div class="col-md-4">
        <div class="p-3 border rounded">
            <div class="text-muted">Active TOEFL</div>
            <div class="fs-4">{{ stats.active_toefl }}</div>
        </div>
        </div>
        <div class="col-md-4">
        <div class="p-3 border rounded">
            <div class="text-muted">Total bookings</div>
            <div class="fs-4">{{ stats.total_bookings }}</div>
        </div>
        </div>
    </div>

    <div class="mb-3">
        <a class="btn btn-outline-primary me-2" href="/admin/app/course/">Manage courses</a>
        <a class="btn btn-outline-secondary me-2" href="/admin/app/booking/">View bookings</a>
        <a class="btn btn-outline-dark" href="#" onclick="alert('Run: python manage.py schedule_toefl'); return false;">Run TOEFL scheduler</a>
    </div>

    <h5>Upcoming courses</h5>
    {% if upcoming %}
    <table class="table table-sm">
        <thead>
        <tr><th>Type</th><th>Title</th><th>Dates</th><th>Capacity</th><th>Active</th></tr>
        </thead>
        <tbody>
        {% for c in upcoming %}
        <tr>
            <td>{{ c.get_course_type_display }}</td>
            <td>
            {% if c.course_type == 'MAIN' %}{{ c.get_level_display }} – {% endif %}
            {{ c.title }}
            </td>
            <td>{{ c.start_date }} → {{ c.end_date }}</td>
            <td>{{ c.capacity }}</td>
            <td>{% if c.is_active %}✅{% else %}—{% endif %}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p class="text-muted">No upcoming courses scheduled.</p>
    {% endif %}
    </div>
    {% endblock %}