{% extends "base.html" %}
{% block title %}Student Dashboard{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2 class="mb-3">Student Dashboard</h2>

  <h5>Active courses</h5>
  {% if active_courses %}
    <table class="table table-sm">
      <thead>
        <tr>
          <th>Dates & Course</th>
          <th>Seats left</th>
        </tr>
      </thead>
      <tbody>
        {% for c in active_courses %}
          <tr>
            <td>
              {{ c.start_date }} → {{ c.end_date }}
              — <strong>{{ c.title }}</strong>
              {% if c.course_type == 'MAIN' %} ({{ c.get_level_display }}){% endif %}
              {% if c.course_type == 'TOEFL' %}
                <span class="badge bg-secondary ms-2">Weekend</span>
              {% endif %}
            </td>

            <td>
              {% if c.seats_left|default:c.seats_left == 0 %}
                <span class="badge bg-danger">Full</span>
              {% else %}
                {{ c.seats_left }} / {{ c.capacity }}
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="text-muted">No active courses at the moment.</p>
  {% endif %}
</div>
{% endblock %}